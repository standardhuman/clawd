# 2026-02-16 (Monday)

## Healthcheck — Security Hardening

Ran full healthcheck on Mac mini (macOS 26.2, Apple Silicon).

### Findings
- FileVault OFF — intentional, Brian needs remote boot access
- macOS firewall was disabled
- Tailscale Funnel was exposing gateway publicly
- Control UI had insecure auth + device auth disabled
- Anthropic OAuth token stored in plaintext in `openclaw.json`
- OpenClaw config had stale key (`gateway.controlUi.allowedOrigins`)
- OpenClaw update available: 2026.2.15

### Actions Taken
- **`openclaw doctor --fix`** — removed stale `allowedOrigins` key
- **Tailscale: funnel → serve** — gateway now tailnet-only, not public internet
- **Control UI hardened** — `allowInsecureAuth: false`, `dangerouslyDisableDeviceAuth: false`
- **Anthropic OAuth token moved to 1Password injection:**
  - Created `~/.openclaw/gateway-start.sh` wrapper using `op run --env-file`
  - Created `~/.openclaw/gateway.env` with `op://Personal/Anthropic Claude Code OAuth Token/credential`
  - Updated launchd plist (`ai.openclaw.gateway.plist`) to use wrapper script
  - Removed `ANTHROPIC_API_KEY` from `openclaw.json`
  - Token never touches disk — injected at runtime by 1Password CLI
  - After reboot: 1Password app must be unlocked for gateway to start (KeepAlive retries)
- **Confirmed Brian is using OAuth token** (`sk-ant-oat01-...`), not API key — this is intentional

## Agent Pipeline Activation

Discovered that the Feb 15 hackathon work (9 sub-agent personas, org chart, Pillars doc) was already built but not logged to memory. Found:
- 9 persona files in `~/clawd/agents/` (Noa, Kai, Reese, Blake, Quinn, Sage, Milo, Avery, Cyrus)
- Noa has 40+ curated source list (`SOURCES.md`)
- Cron jobs for Noa (midnight research) and Kai (6:30am pitch) already existed and running
- Noa produced real research reports (Feb 15, Feb 16) with web_search/web_fetch
- Kai's 6:30am delivery wasn't reaching Brian — fixed prompt to be more explicit about output
- Test-drove Kai manually: produced solid pitch about using an academic hull-cleaning ROI paper as a sales asset
- Reports at `~/clawd/reports/YYYY-MM-DD-{research,pitch}.md`

### Mission Control Self-Hosted
- Built Node.js static server + WebSocket proxy at `~/clawd/projects/mission-control/serve.mjs`
- Serves on port 18790, proxies WebSocket to gateway on 18789
- Auth token injected server-side — never in browser bundle
- Tailscale Serve on port 8443: `https://brians-mac-mini.taile67de1.ts.net:8443/`
- Launchd service: `ai.openclaw.mission-control`
- Fixed origin rejection by setting `Origin: http://localhost:18789` on proxy→gateway WebSocket
- Had to re-enable `dangerouslyDisableDeviceAuth` — safe since gateway is tailnet-only
- Removed tokens from production JS bundle (cleared `.env.production`)

### Agent Spawn System
- Howard can spawn any sub-agent via `sessions_spawn` with persona file as context
- Pattern: "Read ~/clawd/agents/{name}/PERSONA.md then {task}"
- Documented in `~/clawd/agents/README.md`
- On-demand agents: Blake, Quinn, Sage, Milo, Reese, Avery, Cyrus

### Financial Status Brief
- Spawned Quinn subagent for financial analysis → `~/clawd/reports/2026-02-16-financial-status.md`
- 2024 personal return ~$12,343 owed (10+ months overdue, penalties accruing)
- 2025 Form 1120-S due March 15, 2026 (first S-Corp year)
- Three CPA candidates: Dimov Tax, Mary Geong, Chang & Associates

### Telegram Stream Fix
- Changed `streamMode` from `"partial"` to `"off"` for all accounts (main, jacques, marcel)
- Stops noisy appearing/disappearing exec tool call messages

### Model Cost Optimization
- Howard stays on Opus 4.6 ($5/$25 MTok)
- Jacques + Marcel switched to DeepSeek V3.2 ($0.28/$0.42 MTok)
- All subagents default to DeepSeek V3.2
- Kimi K2.5 (free/NVIDIA) available for bulk background work
- Estimated: $70/day → $3-5/day for same work volume

### YouTube Video Analysis
- Analyzed Brian Castle's multi-agent OpenClaw setup (bzWI3Dil9Ig)
- Analyzed OpenClaw getting-started guide (_kZCoW-Qxnc)
- Key insights: agent filesystem sandboxing, per-agent scoped credentials

### Slack Integration
- Created Slack app manifest for "Howard" bot (Socket Mode)
- Brian stored tokens in 1Password
- Retrieved tokens via `op` CLI, configured `channels.slack` in OpenClaw
- DM policy: allowlist with wildcard `*` (open to workspace members)
- Gateway restarted to pick up config — awaiting Brian's test DM

### Agent Avatars
- Generated all 12 agent avatars using nano-banana-pro (Gemini 3 Pro Image)
- Core team: Howard (cairn/mountain), Jacques (deep sea diver), Marcel (artist/palette)
- Scheduled: Noa (research/magnifying glass), Kai (lighthouse/strategy)
- On-demand: Blake (QA), Quinn (finance), Sage (sales), Milo (marketing), Reese (product), Avery (legal), Cyrus (security)
- All saved to `~/clawd/avatars/{name}-avatar.png`

### Still TODO
- Test Slack integration (Brian DMs Howard)
- Optionally create Slack apps for Jacques and Marcel
- Move remaining API keys (DeepSeek, NVIDIA, Gemini, Brave) to 1Password injection
- Move gateway password from config to env var
- Apply OpenClaw update to 2026.2.15
- Call CPA this week — 2024 return overdue, 2025 1120-S due March 15
- Commit Mission Control changes to git
